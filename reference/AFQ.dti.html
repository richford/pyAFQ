

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>dti &mdash; AFQ 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="AFQ 0.1.0 documentation" href="../index.html"/>
        <link rel="up" title="API Reference" href="index.html"/>
        <link rel="next" title="registration" href="AFQ.registration.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> AFQ</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../auto_examples/plot_afq_api.html">AFQ API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auto_examples/plot_tract_profile.html">Plotting tract profiles</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="AFQ.html"><code class="docutils literal"><span class="pre">AFQ</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.api.html"><code class="docutils literal"><span class="pre">api</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.csd.html"><code class="docutils literal"><span class="pre">csd</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.data.html"><code class="docutils literal"><span class="pre">data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.dki.html"><code class="docutils literal"><span class="pre">dki</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">dti</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.registration.html"><code class="docutils literal"><span class="pre">registration</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.segmentation.html"><code class="docutils literal"><span class="pre">segmentation</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.tractography.html"><code class="docutils literal"><span class="pre">tractography</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="AFQ.viz.html"><code class="docutils literal"><span class="pre">viz</span></code></a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">AFQ</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">API Reference</a> &raquo;</li>
      
    <li><code class="docutils literal"><span class="pre">dti</span></code></li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/reference/AFQ.dti.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="module-AFQ.dti">
<span id="dti"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">dti</span></code><a class="headerlink" href="#module-AFQ.dti" title="Permalink to this headline">¶</a></h1>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#AFQ.dti.fit_dti" title="AFQ.dti.fit_dti"><code class="xref py py-obj docutils literal"><span class="pre">fit_dti</span></code></a>(data_files,&nbsp;bval_files,&nbsp;bvec_files)</td>
<td>Fit the DTI model using default settings, save files with derived maps</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#AFQ.dti.predict" title="AFQ.dti.predict"><code class="xref py py-obj docutils literal"><span class="pre">predict</span></code></a>(params_file,&nbsp;gtab[,&nbsp;S0_file,&nbsp;out_dir])</td>
<td>Create a signal prediction from DTI params</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#AFQ.dti.tensor_odf" title="AFQ.dti.tensor_odf"><code class="xref py py-obj docutils literal"><span class="pre">tensor_odf</span></code></a>(evals,&nbsp;evecs,&nbsp;sphere)</td>
<td>Calculate the tensor Orientation Distribution Function</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#AFQ.dti.vector_norm" title="AFQ.dti.vector_norm"><code class="xref py py-obj docutils literal"><span class="pre">vector_norm</span></code></a>(vec[,&nbsp;axis,&nbsp;keepdims])</td>
<td>Return vector Euclidean (L2) norm</td>
</tr>
</tbody>
</table>
<div class="section" id="fit-dti">
<h2>fit_dti<a class="headerlink" href="#fit-dti" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="AFQ.dti.fit_dti">
<code class="descclassname">AFQ.dti.</code><code class="descname">fit_dti</code><span class="sig-paren">(</span><em>data_files</em>, <em>bval_files</em>, <em>bvec_files</em>, <em>mask=None</em>, <em>out_dir=None</em>, <em>file_prefix=None</em>, <em>b0_threshold=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/AFQ/dti.html#fit_dti"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.dti.fit_dti" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the DTI model using default settings, save files with derived maps</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_files</strong> : str or list</p>
<blockquote>
<div><p>Files containing DWI data. If this is a str, that&#8217;s the full path to a
single file. If it&#8217;s a list, each entry is a full path.</p>
</div></blockquote>
<p><strong>bval_files</strong> : str or list</p>
<blockquote>
<div><p>Equivalent to <cite>data_files</cite>.</p>
</div></blockquote>
<p><strong>bvec_files</strong> : str or list</p>
<blockquote>
<div><p>Equivalent to <cite>data_files</cite>.</p>
</div></blockquote>
<p><strong>mask</strong> : ndarray, optional</p>
<blockquote>
<div><p>Binary mask, set to True or 1 in voxels to be processed.
Default: Process all voxels.</p>
</div></blockquote>
<p><strong>out_dir</strong> : str, optional</p>
<blockquote>
<div><p>A full path to a directory to store the maps that get computed.
Default: maps get stored in the same directory as the last DWI file
in <cite>data_files</cite>.</p>
</div></blockquote>
<p><strong>b0_threshold</strong> : float</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>file_paths</strong> : a dict with the derived maps that were computed and full-paths</p>
<p class="last">to the files containing these maps.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="predict">
<h2>predict<a class="headerlink" href="#predict" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="AFQ.dti.predict">
<code class="descclassname">AFQ.dti.</code><code class="descname">predict</code><span class="sig-paren">(</span><em>params_file</em>, <em>gtab</em>, <em>S0_file=None</em>, <em>out_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/AFQ/dti.html#predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.dti.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a signal prediction from DTI params</p>
<dl class="docutils">
<dt>params_file</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">str</span><dd>Full path to a file with parameters saved from a DKI fit</dd>
<dt>gtab</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">GradientTable object</span><dd>The gradient table to predict for</dd>
<dt>S0_file</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">str</span><dd>Full path to a nifti file that contains S0 measurements to incorporate
into the prediction. If the file contains 4D data, the volumes that
contain the S0 data must be the same as the gtab.b0s_mask.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="tensor-odf">
<h2>tensor_odf<a class="headerlink" href="#tensor-odf" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="AFQ.dti.tensor_odf">
<code class="descclassname">AFQ.dti.</code><code class="descname">tensor_odf</code><span class="sig-paren">(</span><em>evals</em>, <em>evecs</em>, <em>sphere</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/AFQ/dti.html#tensor_odf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.dti.tensor_odf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the tensor Orientation Distribution Function</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>evals</strong> : array (4D)</p>
<blockquote>
<div><p>Eigenvalues of a tensor. Shape (x, y, z, 3).</p>
</div></blockquote>
<p><strong>evecs</strong> : array (5D)</p>
<blockquote>
<div><p>Eigenvectors of a tensor. Shape (x, y, z, 3, 3)</p>
</div></blockquote>
<p><strong>sphere</strong> : sphere object</p>
<blockquote class="last">
<div><p>The ODF will be calculated in each vertex of this sphere.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="vector-norm">
<h2>vector_norm<a class="headerlink" href="#vector-norm" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="AFQ.dti.vector_norm">
<code class="descclassname">AFQ.dti.</code><code class="descname">vector_norm</code><span class="sig-paren">(</span><em>vec</em>, <em>axis=-1</em>, <em>keepdims=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dipy/core/geometry.html#vector_norm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#AFQ.dti.vector_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return vector Euclidean (L2) norm</p>
<p>See <span class="xref std std-term">unit vector</span> and <span class="xref std std-term">Euclidean norm</span></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vec</strong> : array_like</p>
<blockquote>
<div><p>Vectors to norm.</p>
</div></blockquote>
<p><strong>axis</strong> : int</p>
<blockquote>
<div><p>Axis over which to norm. By default norm over last axis. If <cite>axis</cite> is
None, <cite>vec</cite> is flattened then normed.</p>
</div></blockquote>
<p><strong>keepdims</strong> : bool</p>
<blockquote>
<div><p>If True, the output will have the same number of dimensions as <cite>vec</cite>,
with shape 1 on <cite>axis</cite>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>norm</strong> : array</p>
<blockquote class="last">
<div><p>Euclidean norms of vectors.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vec</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">77</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">(</span><span class="n">vec</span><span class="p">)</span>
<span class="go">array([ 17.,  85.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="n">keepdims</span><span class="o">=</span><span class="k">True</span><span class="p">)</span>
<span class="go">array([[ 17.],</span>
<span class="go">       [ 85.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_norm</span><span class="p">(</span><span class="n">vec</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([  8.,  39.,  77.])</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="AFQ.registration.html" class="btn btn-neutral float-right" title="registration">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Ariel Rokem and Jason Yeatman, The University of Washington eScience Institute.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>